<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Digital Song Factory V3.0 STABLE</title>
<style>
body{font-family:Arial;background:#0f0f0f;color:#eee;padding:20px}
h1{color:#00ffc3}
.section{border:1px solid #333;padding:15px;margin-bottom:20px;border-radius:10px}
input,textarea,select,button{width:100%;padding:8px;margin-top:6px;margin-bottom:10px;border-radius:6px;border:none}
textarea{height:220px}
button{background:#00ffc3;color:#000;font-weight:bold;cursor:pointer}
button:hover{opacity:.85}
.output{background:#1b1b1b;padding:15px;border-radius:8px;white-space:pre-wrap}
.row{display:flex;gap:10px}
.small{font-size:12px;color:#aaa}
canvas{background:#111;border-radius:10px;margin-top:10px}
</style>
</head>
<body>

<h1>üéµ Digital Song Factory V3.0 STABLE</h1>

<div class="section">
<h3>INPUT ZONE</h3>

<label>Prototype Artist</label>
<input type="text" id="artist">

<label>Prototype Song Title</label>
<input type="text" id="prototypeSong">

<label>Creative Emotion</label>
<input type="text" id="emotion">

<label>Original Lyrics</label>
<textarea id="lyrics"></textarea>

<button onclick="upgradeLyrics()">‚ú® AI Rewrite / Generate</button>

<h4>Genre</h4>
<select id="genre">
<option>Auto</option>
<option>Thai Pop</option>
<option>T-POP Dance</option>
<option>Indie Pop</option>
<option>R&B</option>
<option>EDM Festival</option>
<option>Acoustic Ballad</option>
<option>Trap Pop</option>
</select>

<h4>Structure Template</h4>
<select id="structureTemplate">
<option value="POP">Pop Standard</option>
<option value="KPOP">K-POP Dynamic</option>
<option value="EDM">Festival EDM</option>
<option value="BALLAD">Acoustic Ballad</option>
<option value="INDIE">Indie Storytelling</option>
<option value="TRAP">Trap Pop</option>
</select>

<label><input type="checkbox" id="duetMode"> Duet Mode</label>
<label><input type="checkbox" id="albumMode"> Album Mode (5 Songs)</label>

<h4>Style Intensity</h4>
<select id="intensity">
<option value="1">1 Soft</option>
<option value="2">2 Medium</option>
<option value="3">3 Strong</option>
<option value="4">4 Extreme</option>
</select>

<h4>Vocal Range</h4>
<select id="vocalRange">
<option>Low</option>
<option>Mid</option>
<option>High</option>
</select>

<h4>BPM</h4>
<input type="number" id="bpm" placeholder="Auto">

<h4>Key</h4>
<select id="key">
<option value="AUTO">Auto</option>
<option>C Major</option>
<option>G Major</option>
<option>A Minor</option>
<option>E Minor</option>
</select>

<h4>Arrangement</h4>
<select id="arrange">
<option value="1">Minimal</option>
<option value="2">Standard</option>
<option value="3">Rich Layer</option>
<option value="4">Festival</option>
</select>

<h4>Melody</h4>
<select id="melody">
<option>Auto</option>
<option>Stepwise Emotional</option>
<option>Repetitive Hook</option>
<option>Anthemic Lift</option>
</select>

<h4>Chord</h4>
<select id="chord">
<option>Auto</option>
<option>I‚ÄìV‚Äìvi‚ÄìIV</option>
<option>vi‚ÄìIV‚ÄìI‚ÄìV</option>
<option>i‚ÄìVI‚ÄìIII‚ÄìVII</option>
</select>

<h4>Drum</h4>
<select id="drum">
<option>Pop Groove</option>
<option>Trap Hi-Hat</option>
<option>EDM 4-on-Floor</option>
<option>Acoustic Soft</option>
</select>

<h4>Instrument</h4>
<select id="instrument">
<option>Piano + Strings</option>
<option>Synth Pop</option>
<option>Acoustic Band</option>
<option>Festival EDM</option>
<option>Trap 808</option>
</select>

<h4>Commercial Mode</h4>
<select id="commercial">
<option>Radio Edit</option>
<option>Streaming Version</option>
<option>Extended Mix</option>
</select>

<h4>Mix Profile</h4>
<select id="mix">
<option>Warm Analog</option>
<option>Bright Pop</option>
<option>Club Punchy</option>
<option>Wide Cinematic</option>
</select>

<h4>Mastering</h4>
<select id="mastering">
<option>Clean Digital</option>
<option>Analog Tape</option>
<option>Loud & Modern</option>
<option>Dynamic Audiophile</option>
</select>

<h4>Language Mode</h4>
<select id="language">
<option>Thai</option>
<option>English</option>
<option>Thai + English</option>
<option>Global Mix</option>
</select>

<div class="row">
<button onclick="runSystem()">Generate</button>
<button onclick="generateMulti()">Generate 4 Artists</button>
</div>

</div>

<div class="section">
<h3>OUTPUT</h3>
<div id="output" class="output"></div>
</div>

<script>

function randomItem(arr){return arr[Math.floor(Math.random()*arr.length)]}

function autoBPM(){
let g=document.getElementById("genre").value
if(g.includes("EDM")) return 128
if(g.includes("Dance")) return 120
if(g.includes("Ballad")) return 72
return 100
}

function autoKey(){
let e=document.getElementById("emotion").value
if(e.includes("‡πÄ‡∏®‡∏£‡πâ‡∏≤")) return "A Minor"
return "C Major"
}

function autoChord(){
let k=document.getElementById("key").value
if(k==="AUTO") k=autoKey()
if(k.includes("Major")) return "I‚ÄìV‚Äìvi‚ÄìIV"
return "i‚ÄìVI‚ÄìIII‚ÄìVII"
}

function generateScores(){
return{
hook:Math.floor(Math.random()*20)+75,
emotion:Math.floor(Math.random()*20)+70,
viral:Math.floor(Math.random()*20)+65
}
}

function calculateHit(scores){
let base=(scores.hook+scores.viral)/2
return{
streaming:Math.min(base+5,100),
radio:Math.min(base+2,100),
viral:Math.min(base+8,100),
overall:Math.min(base+5,100)
}
}

function runSystem(){

let bpm=document.getElementById("bpm").value || autoBPM()
let key=document.getElementById("key").value
if(key==="AUTO") key=autoKey()

let chord=document.getElementById("chord").value
if(chord==="Auto") chord=autoChord()

let scores=generateScores()
let hit=calculateHit(scores)

let output=`
=== AI RECORD LABEL REPORT ===

BPM: ${bpm}
Key: ${key}
Chord: ${chord}
Drum: ${document.getElementById("drum").value}
Instrument: ${document.getElementById("instrument").value}
Mix: ${document.getElementById("mix").value}
Mastering: ${document.getElementById("mastering").value}
Language: ${document.getElementById("language").value}

=== HIT PROBABILITY ===
Streaming: ${Math.floor(hit.streaming)}%
Radio: ${Math.floor(hit.radio)}%
Viral: ${Math.floor(hit.viral)}%
Overall: ${Math.floor(hit.overall)}%
`

document.getElementById("output").innerText=output
}

function generateMulti(){
let types=["Thai Male","Thai Female","Global Male","Global Female"]
let result=""
types.forEach(t=>{
result+="\n--- "+t+" ---\n"
runSystem()
result+=document.getElementById("output").innerText
})
document.getElementById("output").innerText=result
}

function upgradeLyrics(){
let e=document.getElementById("emotion").value||"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å"
document.getElementById("lyrics").value="[Verse]\nRewrite based on "+e+"\n[Chorus]\n"+e+" ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≤‡∏á‡∏´‡∏≤‡∏¢"
}

</script>
</body>
</html>
