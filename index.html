<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>V11 Chorus A/B Testing Lab</title>
<style>
body{background:#0a0f18;color:#00ffd0;font-family:monospace;padding:20px}
.container{max-width:1100px;margin:auto}
textarea,button{width:100%;margin-top:10px;padding:10px;border-radius:6px;border:none;font-family:monospace}
textarea{background:#111;color:#fff;height:200px}
button{background:#00ffd0;color:#000;font-weight:bold}
.output{background:#111;color:#fff;margin-top:20px;padding:15px;border-radius:6px;white-space:pre-wrap}
.score{color:#00ff88;font-size:18px}
</style>
</head>
<body>
<div class="container">

<h1>ğŸ¯ V11 â€“ AI Chorus A/B Testing Lab</h1>

<textarea id="lyrics" placeholder="Paste full lyrics with [Chorus] section..."></textarea>

<button onclick="runABTest()">ğŸš€ Run Chorus A/B Test</button>

<div id="result" class="output"></div>

</div>

<script>

function extractChorus(text){
let lines=text.split("\n");
let chorus=[];
let inChorus=false;

for(let line of lines){
if(line.includes("[Chorus]")){inChorus=true;continue;}
if(line.startsWith("[") && inChorus){break;}
if(inChorus && line.trim()!=""){chorus.push(line);}
}
return chorus;
}

function scoreHook(text){
let words=text.split(/\s+/);
let repetition=words.length-new Set(words).size;
let powerWords=["love","forever","fire","heart","higher","à¸£à¸±à¸","à¹ƒà¸ˆ","à¸•à¸¥à¸­à¸”à¹„à¸›"];
let powerScore=words.filter(w=>powerWords.includes(w.toLowerCase())).length*5;
return Math.min(100,50+(repetition*5)+powerScore);
}

function runABTest(){

let text=document.getElementById("lyrics").value;
let chorusLines=extractChorus(text);
let base=chorusLines.join(" ");

if(!base){
document.getElementById("result").innerText="No [Chorus] section detected.";
return;
}

let A=base+"\n"+base;
let B=base+" forever higher fire!";
let C=base.split(" ").slice(0,6).join(" ");
let D=base+" forever\n"+base+" higher\n"+base+" unstoppable!";

let versions={
"A â€“ Repetition Boost":A,
"B â€“ Power Word Boost":B,
"C â€“ Short Punch":C,
"D â€“ Escalation Build":D
};

let output="";
let bestScore=0;
let winner="";

for(let name in versions){
let s=scoreHook(versions[name]);
output+=name+"\n"+versions[name]+"\nScore: "+s+"\n\n";
if(s>bestScore){bestScore=s;winner=name;}
}

output+="ğŸ† WINNER: "+winner+" (Score "+bestScore+")";

document.getElementById("result").innerText=output;

}

</script>
</body>
</html>
