<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>V15 DNA Song Generator</title>
<style>
body{background:#0a0f18;color:#00ffd0;font-family:monospace;padding:20px}
.container{max-width:1200px;margin:auto}
textarea,select,button{
width:100%;
margin-top:10px;
padding:10px;
border-radius:6px;
border:none;
font-family:monospace
}
textarea{background:#111;color:#fff;height:180px}
select{background:#111;color:#00ffd0}
button{background:#00ffd0;color:#000;font-weight:bold;cursor:pointer}
.output{
background:#111;
color:#fff;
margin-top:20px;
padding:15px;
border-radius:6px;
white-space:pre-wrap
}
.section{margin-top:30px}
.score{font-size:20px;color:#00ff88}
</style>
</head>
<body>

<div class="container">

<h1>ðŸŽ› V15 â€“ DNA â†’ New Song Generator</h1>

<label>Artist Style</label>
<select id="style">
<option value="80s">80s Synth Pop Anthem</option>
<option value="90sTH">90s Thai Emotional Ballad</option>
<option value="ModernPop">Modern Pop Stadium</option>
<option value="ElectroPop">Electro Pop Diva</option>
</select>

<textarea id="inputLyrics" placeholder="Paste your original lyrics here..."></textarea>

<button onclick="generate()">ðŸš€ Analyze â†’ Generate New Song</button>

<div class="section">
<h3>ðŸ§¬ DNA Report</h3>
<div id="dnaOut" class="output"></div>
</div>

<div class="section">
<h3>ðŸŽµ New Generated Song</h3>
<div id="songOut" class="output"></div>
</div>

<div class="section">
<h3>ðŸ”¥ Hit Score</h3>
<div id="scoreOut" class="output"></div>
</div>

<div class="section">
<h3>ðŸŽ› Suno Prompt</h3>
<div id="promptOut" class="output"></div>
</div>

</div>

<script>

function analyzeDNA(text){
let lines=text.split("\n").filter(l=>l.trim()!="");
let words=text.split(/\s+/);
let repetition=lines.length-new Set(lines).size;
let avgLength=Math.round(lines.reduce((a,b)=>a+b.length,0)/lines.length||0);

return {
lines:lines.length,
words:words.length,
repetition:repetition,
avgLength:avgLength
};
}

function generateNewSong(dna,style){

let hookPhrase = dna.repetition>1 ? 
"Forever in the fire" : 
"Higher than the night";

let structure = `
[Verse 1]
Shadows falling from the sky
Dreams are waking deep inside
Every step is drawing near
Breaking through the silent fear

[Pre-Chorus]
Every heartbeat getting stronger
Every second lasts much longer

[Chorus]
${hookPhrase}
Burning brighter through the light
Hearts are rising even higher
We ignite the endless night
${hookPhrase}

[Verse 2]
Echoes turning into flame
Nothing ever stays the same
Through the storm we find the way
Turning darkness into day

[Pre-Chorus]
Every heartbeat getting stronger
Every second lasts much longer

[Chorus]
${hookPhrase}
Burning brighter through the light
Hearts are rising even higher
We ignite the endless night
${hookPhrase}

[Bridge]
When the world is crashing down
We still stand our ground

[Final Chorus]
${hookPhrase}
Now we shine beyond the fire
Nothing stops us now
Weâ€™re climbing higher
`;

return structure.trim();
}

function calculateScore(dna){
let score = Math.min(100, 
50 + dna.repetition*10 + (dna.words/20)
);
return Math.round(score);
}

function buildPrompt(song,style,score){

let styleMap={
"80s":"80s Synth Pop Anthem, analog bass, gated snare, big chorus stack",
"90sTH":"90s Thai Emotional Ballad, piano intro, emotional build, key change",
"ModernPop":"Modern Stadium Pop, cinematic intro, powerful drop chorus",
"ElectroPop":"Electro Pop Diva Anthem, punchy kick, layered harmonies"
};

return `
Artist Style: ${styleMap[style]}
Tempo: 100-110 BPM
Key: Major key, final chorus +1 modulation
Energy Curve: Intro â†’ Build â†’ Explosive Chorus â†’ Emotional Bridge â†’ Final Lift

Hit Score Estimate: ${score}/100

Lyrics:
${song}
`;
}

function generate(){

let input=document.getElementById("inputLyrics").value;
if(!input){
alert("Please paste original lyrics first.");
return;
}

let dna=analyzeDNA(input);
let newSong=generateNewSong(dna,document.getElementById("style").value);
let score=calculateScore(dna);
let prompt=buildPrompt(newSong,document.getElementById("style").value,score);

document.getElementById("dnaOut").innerText=
"Lines: "+dna.lines+
"\nWords: "+dna.words+
"\nRepetition: "+dna.repetition+
"\nAverage Line Length: "+dna.avgLength;

document.getElementById("songOut").innerText=newSong;

document.getElementById("scoreOut").innerHTML=
"<div class='score'>Hit Score: "+score+"/100</div>";

document.getElementById("promptOut").innerText=prompt;

}

</script>

</body>
</html>
