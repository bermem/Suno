<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Digital Song Factory V1.7 STABLE</title>
<style>
body{font-family:Arial;background:#0f0f0f;color:#eee;padding:20px}
h1{color:#00ffc3}
.section{border:1px solid #333;padding:15px;margin-bottom:20px;border-radius:10px}
input,textarea,select,button{width:100%;padding:8px;margin-top:6px;margin-bottom:10px;border-radius:6px;border:none}
textarea{height:180px}
button{background:#00ffc3;color:#000;font-weight:bold;cursor:pointer}
button:hover{opacity:.85}
.output{background:#1b1b1b;padding:15px;border-radius:8px;white-space:pre-wrap}
.row{display:flex;gap:10px}
.small{font-size:12px;color:#aaa}
canvas{background:#111;border-radius:10px;margin-top:10px}
</style>
</head>
<body>

<h1>üéµ Digital Song Factory V1.7 STABLE</h1>

<div class="section">
<h3>INPUT ZONE</h3>

<label>Prototype Artist</label>
<input type="text" id="artist">

<label>Prototype Song Title</label>
<input type="text" id="prototypeSong">

<label>Creative Emotion / Intent</label>
<input type="text" id="emotion">

<label>Original Lyrics</label>
<textarea id="lyrics"></textarea>

<button onclick="upgradeLyrics()">‚ú® AI Upgrade Lyrics</button>

<h4>üéº Genre Menu</h4>
<select id="genre">
<option>Auto</option>
<option>Thai Pop</option>
<option>T-POP Dance</option>
<option>Indie Pop</option>
<option>R&B</option>
<option>EDM Festival</option>
<option>Acoustic Ballad</option>
<option>Trap Pop</option>
</select>

<label><input type="checkbox" id="lockGenre"> Lock Genre</label>

<h4>üéº Section Rhyme Control (V1.7)</h4>

<label>Verse Pattern</label>
<select id="versePattern">
<option value="AUTO">AUTO</option>
<option value="AABB">AABB</option>
<option value="ABAB">ABAB</option>
<option value="AAAA">AAAA</option>
</select>

<label>Chorus Pattern</label>
<select id="chorusPattern">
<option value="AUTO">AUTO</option>
<option value="AABB">AABB</option>
<option value="ABAB">ABAB</option>
<option value="AAAA">AAAA</option>
</select>

<div class="row">
<button onclick="runSystem()">üöÄ Generate 1 Version</button>
<button onclick="generateMulti()">üé§ Generate 4 Versions</button>
</div>

<button onclick="randomAll()">üîÄ Random All</button>

<p class="small">* AI ‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
</div>

<div class="section">
<h3>OUTPUT</h3>
<div id="output" class="output">‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...</div>
</div>

<div class="section">
<h3>üìä Hit Dashboard</h3>
<canvas id="chart" width="400" height="200"></canvas>
</div>

<script>

function randomItem(arr){
return arr[Math.floor(Math.random()*arr.length)]
}

function generateTitle(emotion){
if(emotion) return emotion.split(" ")[0]+" ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≤‡∏á‡∏´‡∏≤‡∏¢"
const words=["Midnight Echo","‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏•‡∏∑‡∏°","Heartbeat Signal","Shadow Memory"]
return randomItem(words)
}

function generateScores(){
return {
hook:Math.floor(Math.random()*20)+75,
emotion:Math.floor(Math.random()*20)+70,
viral:Math.floor(Math.random()*20)+65,
original:Math.floor(Math.random()*15)+80
}
}

function drawChart(scores){
let canvas=document.getElementById("chart")
let ctx=canvas.getContext("2d")
ctx.clearRect(0,0,400,200)

let values=[scores.hook,scores.emotion,scores.viral,scores.original]
let labels=["Hook","Emotion","Viral","Original"]

for(let i=0;i<values.length;i++){
let height=values[i]
ctx.fillStyle="#00ffc3"
ctx.fillRect(20+i*90,180-height,50,height)
ctx.fillStyle="#fff"
ctx.fillText(labels[i],25+i*90,195)
}
}

function autoSelectPattern(genre, emotion){
if(genre.includes("Ballad")) return "AABB"
if(genre.includes("Dance")) return "AAAA"
if(genre.includes("EDM")) return "AAAA"
if(genre.includes("Indie")) return "ABAB"
if(emotion && emotion.includes("‡πÄ‡∏®‡∏£‡πâ‡∏≤")) return "AABB"
return "ABAB"
}

function applySectionPattern(lines){

let genre=document.getElementById("genre").value
let emotion=document.getElementById("emotion").value

let versePattern=document.getElementById("versePattern").value
let chorusPattern=document.getElementById("chorusPattern").value

if(versePattern==="AUTO"){
versePattern=autoSelectPattern(genre,emotion)
}
if(chorusPattern==="AUTO"){
chorusPattern=autoSelectPattern(genre,emotion)
}

let result=[]
let currentPattern=versePattern

lines.forEach(line=>{

if(line.includes("[Chorus]")){
currentPattern=chorusPattern
result.push(line)
return
}

if(line.includes("[Verse")){
currentPattern=versePattern
result.push(line)
return
}

if(line.trim()===""){
result.push("")
return
}

let baseWord="‡πÉ‡∏à"

if(currentPattern==="AAAA"){
result.push(line+" "+baseWord)
}
else if(currentPattern==="AABB"){
result.push(line+" "+baseWord)
}
else if(currentPattern==="ABAB"){
result.push(line+" "+(Math.random()>0.5?"‡πÉ‡∏à":"‡πÑ‡∏Å‡∏•"))
}

})

return result
}

function generateFreshSong(){

let emotion=document.getElementById("emotion").value || "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥"
let hook=emotion+"‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≤‡∏á‡∏´‡∏≤‡∏¢"

return `[Verse 1]
‡∏â‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏•‡∏≥‡∏û‡∏±‡∏á‡πÉ‡∏ô‡∏Ñ‡πà‡∏≥‡∏Ñ‡∏∑‡∏ô
‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏•‡∏°‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏¢‡∏±‡∏á‡∏™‡∏∞‡∏≠‡∏∑‡πâ‡∏ô
‡∏†‡∏≤‡∏û‡πÄ‡∏ò‡∏≠‡∏¢‡∏±‡∏á‡∏ä‡∏±‡∏î‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ù‡∏∑‡∏ô
‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏¢‡∏±‡∏á‡∏ï‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∑‡∏ô

[Pre-Chorus]
‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏ö
‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡∏ö
‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏Ñ‡∏£‡∏ö
‡πÅ‡∏°‡πâ‡πÉ‡∏à‡πÄ‡∏à‡πá‡∏ö‡πÅ‡∏ó‡∏ö‡∏ó‡∏ö

[Chorus]
${hook}
‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ò‡∏≠‡∏ã‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
${hook}
‡πÅ‡∏°‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ò‡∏≠‡∏Ç‡πâ‡∏≤‡∏á ‡πÜ

[Verse 2]
‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏°‡∏∏‡∏ô‡πÑ‡∏õ‡πÅ‡∏ï‡πà‡πÉ‡∏à‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô
‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏¢‡∏±‡∏á‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î
‡πÅ‡∏™‡∏á‡πÑ‡∏ü‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î
‡πÅ‡∏ï‡πà‡πÉ‡∏à‡∏â‡∏±‡∏ô‡∏¢‡∏±‡∏á‡∏´‡∏¢‡∏∏‡∏î

[Bridge]
‡∏ñ‡πâ‡∏≤‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏à‡∏≠
‡∏â‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏≤‡∏°‡πÄ‡∏ò‡∏≠
‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏û‡πâ‡∏≠
‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏ö‡∏•‡∏á‡πÄ‡∏™‡∏°‡∏≠

[Final Chorus]
${hook}
‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏™‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤
${hook}
‡πÉ‡∏´‡πâ‡πÇ‡∏•‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏≤`
}

function upgradeLyrics(){

let lyrics=document.getElementById("lyrics").value

if(!lyrics.trim()){
document.getElementById("lyrics").value=generateFreshSong()
return
}

let lines=lyrics.split("\n")
let processed=applySectionPattern(lines)

let emotion=document.getElementById("emotion").value || "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å"
let hookLine=emotion+" ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ò‡∏≠"

processed.push("\n[Algorithm Boost Hook]")
processed.push(hookLine)
processed.push(hookLine)

document.getElementById("lyrics").value=processed.join("\n")
}

function buildOutput(artistType){

let emotion=document.getElementById("emotion").value
let genre=document.getElementById("genre").value
let title=generateTitle(emotion)
let scores=generateScores()

drawChart(scores)

return `
=== üéº TITLE ===
${title}

=== üé§ Artist Type ===
${artistType}

=== üéß Genre ===
${genre}

=== üìä SCORES ===
Hook: ${scores.hook}%
Emotion: ${scores.emotion}%
Viral: ${scores.viral}%
Originality: ${scores.original}%

=== üéº SUNO PROMPT ===
Artist: ${artistType}
Genre: ${genre}
Mood: ${emotion || "Emotional Pop"}
Structure:
[Verse 1]
[Pre-Chorus]
[Chorus x2]
[Verse 2]
[Bridge]
[Final Chorus Lift]
`
}

function runSystem(){
let output=buildOutput("Auto Artist")
document.getElementById("output").innerText=output
}

function generateMulti(){
let types=[
"Thai Male Artist",
"Thai Female Artist",
"International Male Artist",
"International Female Artist"
]
let result=""
types.forEach(t=>{
result+="\n====================\n"
result+=buildOutput(t)
})
document.getElementById("output").innerText=result
}

function randomAll(){
const emotions=["‡∏Ñ‡∏•‡∏±‡πà‡∏á‡∏£‡∏±‡∏Å","midnight drive","toxic love","summer crush"]
document.getElementById("emotion").value=randomItem(emotions)
document.getElementById("artist").value=""
document.getElementById("prototypeSong").value=""
runSystem()
}

</script>

</body>
</html>
