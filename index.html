<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>V9.5 Full Digital Song Factory</title>
<style>
body{background:#0a0f18;color:#00ffd0;font-family:monospace;padding:20px}
.container{max-width:1100px;margin:auto}
textarea,select,button{width:100%;margin-top:10px;padding:10px;border-radius:6px;border:none;font-family:monospace}
textarea{background:#111;color:#fff;height:150px}
select{background:#111;color:#00ffd0}
button{background:#00ffd0;color:#000;font-weight:bold;cursor:pointer}
.output{background:#111;color:#fff;margin-top:15px;padding:15px;border-radius:6px;white-space:pre-wrap}
.section{margin-top:30px}
.score{color:#00ff88;font-size:18px}
</style>
</head>
<body>
<div class="container">

<h1>ğŸ› V9.5 Full Digital Song Factory</h1>

<label>Artist Profile</label>
<select id="artist">
<option value="TH_MALE">Thai Male</option>
<option value="TH_FEMALE">Thai Female</option>
<option value="EN_MALE">International Male</option>
<option value="EN_FEMALE">International Female</option>
</select>

<textarea id="lyrics" placeholder="Paste full lyrics here..."></textarea>

<button onclick="analyzeDNA()">ğŸ” Analyze DNA</button>
<button onclick="melodyDNA()">ğŸ¼ Melody DNA</button>
<button onclick="optimizeHook()">ğŸ¯ Optimize Hook</button>
<button onclick="hitScore()">ğŸ“Š Hit Score</button>
<button onclick="exportPrompt()">ğŸš€ Export Suno Prompt</button>

<div class="section">
<h3>ğŸ§¬ DNA Report</h3>
<div id="dnaOut" class="output"></div>
</div>

<div class="section">
<h3>ğŸ¼ Melody Suggestion</h3>
<div id="melodyOut" class="output"></div>
</div>

<div class="section">
<h3>ğŸ¯ Hook Optimized</h3>
<div id="hookOut" class="output"></div>
</div>

<div class="section">
<h3>ğŸ”¥ Hit Potential</h3>
<div id="hitOut" class="output"></div>
</div>

<div class="section">
<h3>ğŸš€ Suno Prompt</h3>
<div id="promptOut" class="output"></div>
</div>

</div>

<script>

function analyzeDNA(){
let text=document.getElementById("lyrics").value;
let lines=text.split("\n").filter(l=>l.trim()!="");
let words=text.split(/\s+/);

let repetition=lines.length-new Set(lines).size;
let avgLen=Math.round(lines.reduce((a,b)=>a+b.length,0)/lines.length||0);

document.getElementById("dnaOut").innerText=
"Lines: "+lines.length+
"\nAverage Line Length: "+avgLen+
"\nRepetition Score: "+repetition+
"\nTotal Words: "+words.length;
}

function melodyDNA(){
let text=document.getElementById("lyrics").value;
let len=text.length;

let contour=len>400?"Lowâ†’Midâ†’High Big Lift":"Midâ†’High Anthem";
let scale=len>350?"Minor Emotional":"Major Anthemic";

document.getElementById("melodyOut").innerText=
"Suggested Scale: "+scale+
"\nMelody Contour: "+contour+
"\nFinal Chorus: +1 Tone Key Change";
}

function optimizeHook(){
let lines=document.getElementById("lyrics").value.split("\n").filter(l=>l.trim()!="");
let hook=lines.slice(0,2).join(" ");

hook+=" forever higher!";
document.getElementById("hookOut").innerText=hook;
}

function hitScore(){
let text=document.getElementById("lyrics").value.toLowerCase();
let words=text.split(/\s+/);
let lines=text.split("\n").filter(l=>l.trim()!="");

let repetition=lines.length-new Set(lines).size;
let powerWords=["love","fire","forever","heart","à¸£à¸±à¸","à¹ƒà¸ˆ","à¸•à¸¥à¸­à¸”à¹„à¸›"];
let powerScore=words.filter(w=>powerWords.includes(w)).length*5;

let score=Math.min(100,50+repetition*10+powerScore);

document.getElementById("hitOut").innerHTML=
"<div class='score'>Hit Score: "+score+"/100</div>"+
"\nRadio: "+(score>70?"High":"Medium")+
"\nViral: "+(repetition>2?"High":"Medium");
}

function exportPrompt(){

let artist=document.getElementById("artist").value;
let lyrics=document.getElementById("lyrics").value;

let style={
TH_MALE:"90s Thai Pop Emotional",
TH_FEMALE:"Thai Diva Stadium Ballad",
EN_MALE:"80s Synth Pop Anthem",
EN_FEMALE:"Electro Pop Diva Anthem"
};

let prompt=
"Artist Style: "+style[artist]+
"\nProduction: Cinematic intro, emotional build, anthemic chorus, key change final"+
"\n\nLyrics:\n"+lyrics+
"\n\nStructure: Intro / Verse / Pre / Chorus / Verse / Chorus / Bridge / Final Chorus";

document.getElementById("promptOut").innerText=prompt;
}

</script>
</body>
</html>
